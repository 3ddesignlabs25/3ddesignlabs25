<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get a Quote — Michael Butler</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<nav>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="skills.html">Skills</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="3dprints.html">3D Prints</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="quote.html">Get a Quote</a></li>
    </ul>
</nav>

<header>
    <h1>Get a Quote</h1>
    <p>Fast, accurate estimates — fully customized to your project.</p>
</header>

<section>
    <div class="contact-form">

        <form action="https://formspree.io/f/xwpgwdnk" method="POST">

            <h3>Your Contact Info</h3>

            <label for="name">Your Name</label>
            <input type="text" name="name" id="name" placeholder="Your Name" required>

            <label for="email">Your Email</label>
            <input type="email" name="email" id="email" placeholder="you@example.com" required>

            <hr style="border:1px solid #30363d; margin:25px 0;">

            <h3>Service Details</h3>

            <label for="service">Select a Service</label>
            <select id="service" name="service" required>
                <option value="">Choose one...</option>
                <option value="3D Printing">3D Printing</option>
                <option value="Embedded Systems Build">Embedded Systems Build</option>
                <option value="Coding / Firmware Development">Coding / Firmware Development</option>
                <option value="Electronics Assembly / Wiring">Electronics Assembly / Wiring</option>
                <option value="Product Repair">Product Repair</option>
                <option value="CAD Modeling / Design">CAD Modeling / Design</option>
                <option value="Consulting / Tech Support">Consulting / Tech Support</option>
            </select>

            <!-- 3D PRINTING FIELDS -->
            <div id="printing-fields" style="display:none; margin-top:20px;">

                <label for="material">Material</label>
                <select id="material" name="material">
                    <option value="PLA">PLA</option>
                    <option value="PETG">PETG</option>
                    <option value="ABS">ABS</option>

                    <!-- ✅ TPU Added -->
                    <option value="TPU">TPU</option>
                </select>

                <label for="length">Length (mm)</label>
                <input type="number" id="length" name="length" placeholder="e.g., 120">

                <label for="width">Width (mm)</label>
                <input type="number" id="width" name="width" placeholder="e.g., 60">

                <label for="height">Height (mm)</label>
                <input type="number" id="height" name="height" placeholder="e.g., 40">

                <p style="opacity:0.7; font-size:0.9rem;">
                    *Final pricing may vary depending on infill, supports, and geometry.
                </p>
            </div>

            <div style="margin-top:25px;">
                <h3>Estimated Price</h3>
                <p id="quote-result" style="font-size:1.2rem; font-weight:bold;">$0.00</p>
            </div>

            <label for="notes">Project Notes</label>
            <textarea name="notes" id="notes" rows="6" placeholder="Describe your project…"></textarea>

            <input type="hidden" name="final_quote" id="final-quote-value">

            <button type="submit">Submit Quote Request</button>

        </form>

    </div>
</section>

<footer>
    © 2025 Michael Butler — Portfolio
</footer>

<script>
const serviceSelect = document.getElementById("service");
const printingFields = document.getElementById("printing-fields");
const result = document.getElementById("quote-result");
const finalQuoteField = document.getElementById("final-quote-value");

// Material cost per cubic cm (base cost + 20% business markup)
const materialCosts = {
    PLA: 0.075 * 1.2,
    PETG: 0.085 * 1.2,
    ABS: 0.090 * 1.2,

    // ✅ TPU cost estimate added
    TPU: 0.095 * 1.2
};

serviceSelect.addEventListener("change", () => {
    if (serviceSelect.value === "3D Printing") {
        printingFields.style.display = "block";
    } else {
        printingFields.style.display = "none";
        result.textContent = "$0.00";
    }
    calculateQuote();
});

function calculateQuote() {
    if (serviceSelect.value !== "3D Printing") {
        result.textContent = "$0.00";
        finalQuoteField.value = "$0.00";
        return;
    }

    const material = document.getElementById("material").value;
    const l = parseFloat(document.getElementById("length").value) || 0;
    const w = parseFloat(document.getElementById("width").value) || 0;
    const h = parseFloat(document.getElementById("height").value) || 0;

    const volume = (l * w * h) / 1000;
    const cost = volume * materialCosts[material];
    const formatted = `$${cost.toFixed(2)}`;

    result.textContent = formatted;
    finalQuoteField.value = formatted;
}

document.querySelectorAll("input, select").forEach(el => {
    el.addEventListener("input", calculateQuote);
});
</script>

</body>
</html>
